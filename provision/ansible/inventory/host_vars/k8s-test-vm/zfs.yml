---
#-- nas role --#
zfs_sharing:
  nfs_enabled: true
  samba_enabled: true
  timemachine_enabled: true

zfs_monitoring:
  # enable email alerts
  email_alerts: true
  # enable smartd monitoring
  smartd_alerts: true
  # enable zfs-zed monitoring. needs email configured to work.
  zed_alerts: true
  # Use systemd timers instead of cron for scrubs
  systemd_scrub_timer: true

#-- below this line is from mrlessmith.zfs role --#
zfs_install_update: true
zfs_manage_filesystem_permissions: true
zfs_enable_auto_snapshots: false
zfs_enable_performance_tuning: true
zfs_create_pools: true
zfs_create_filesystems: true

zfs_pools:
  - name: deadpool
    action: create
    atime: on
    compression: lz4
    devices:
      - '/dev/sdb'
    type: basic
    state: present

zfs_filesystems:
  - name: ansible
    pool: deadpool
    state: present
    owner: root
    group: root
    mode: 755
    mountpoint: /deadpool/ansible
