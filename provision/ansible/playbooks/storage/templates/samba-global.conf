# {{ ansible_managed }}

# user settings
unix password sync = yes
passwd program = /usr/bin/passwd %u
passwd chat = *Enter\snew\s*\spassword:* %n\n *Retype\snew\s*\spassword:* %n\n *password\supdated\ssuccessfully* .

# logging
logging = systemd
log level = 5 passdb:5 auth:10 vfs:3

# not needed for osx/linux
disable netbios = yes
dns proxy = no

# vfs objects for osx
# to-do add io_uring kernel module to enable that vfs object
vfs objects = acl_xattr catia fruit streams_xattr

# osx settings
fruit:aapl = yes
fruit:model = MacSamba
fruit:advertise_fullsync = true
fruit:posix_rename = yes
fruit:veto_appledouble = no
fruit:wipe_intentionally_left_blank_rfork = yes
fruit:delete_empty_adfiles = yes
fruit:locking = netatalk
fruit:encoding = native
fruit:resource = xattr
fruit:metadata = netatalk
fruit:nfs_aces = yes
durable handles = yes
kernel oplocks = no
kernel share modes = no
posix locking = no
ea support = yes
